(function(){"use strict";var e={7884:function(e,o,t){var n=t(5130),l=(t(4114),t(6768)),a=t(144),i=t(4232),r=t.p+"img/upload-active.a0273a5b.png",u=t.p+"img/upload-inactive.54af791a.png",c=t(2489);const s=e=>((0,l.Qi)("data-v-17d2f824"),e=e(),(0,l.jt)(),e),d={key:0,class:"ac-upload-area"},p=s((()=>(0,l.Lk)("img",{width:"120px",src:r,alt:"Dosya Yükleme"},null,-1))),f=s((()=>(0,l.Lk)("p",null,"Drop to add!",-1))),v=[p,f],m={key:1,class:"ac-upload-area text-2xl"},g=s((()=>(0,l.Lk)("img",{width:"120px",src:u,alt:"Dosya Yükleme"},null,-1))),h=s((()=>(0,l.Lk)("p",null,"Drag and drop files here or click to add!",-1))),b=[g,h];var k={__name:"fileUploader",emits:["initiateFileUpload"],setup(e,{emit:o}){const t=(0,a.Kh)({files:[]}),{getRootProps:n,getInputProps:r,isDragActive:u}=(0,c.V)({onDrop:s,accept:"image/*"});function s(e,o){console.log(e),console.log(o),t.files=e,console.log(t),f()}const p=o;function f(){p("initiateFileUpload",t.files)}return(e,o)=>((0,l.uX)(),(0,l.CE)("div",(0,l.v6)((0,a.R1)(n)(),{class:"dropzone w-full border ac-form-dropzone bg-gray-100 text-center"}),[(0,l.Lk)("input",(0,i._B)((0,l.Ng)((0,a.R1)(r)())),null,16),(0,a.R1)(u)?((0,l.uX)(),(0,l.CE)("div",d,v)):((0,l.uX)(),(0,l.CE)("div",m,b))],16))}},y=t(1241);const w=(0,y.A)(k,[["__scopeId","data-v-17d2f824"]]);var x=w;const L="https://optimize.accadigital.com",_=async(e,o,t)=>{console.log("API Endpoint:",L);const n=e.name.split(".").pop(),l=`${o}_${t}.${n}`,a=new FormData;a.append("file",e,l);for(let[r,u]of a.entries())console.log(`${r}: ${u}`);try{const e=await fetch(`${L}/upload`,{method:"POST",body:a});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const o=await e.json();return console.log("Upload successful:",o),o}catch(i){throw console.error("Upload failed with:",i),i}},E={id:"container"},U={key:0,class:"loader-container"},C=(0,l.Lk)("div",{class:"loader"},null,-1),O=[C],$=(0,l.Lk)("p",{class:"info-text"},"Enter a base name for the files to get started!",-1),R={class:"main-inputs"},D={class:"file-previewer"},F=["src"],N=["onUpdate:modelValue"],j=["onUpdate:modelValue"],X=["onClick"],z=["disabled"],P="altevren";var V={__name:"App",setup(e){const o=(0,a.KR)(!1),t=(0,a.KR)([]),i=(0,a.KR)(""),r=(0,a.KR)(730),u=e=>{console.log("Files received from file-uploader component."),console.log(e),e.forEach(((e,o)=>{const n=new FileReader;n.onload=n=>{const l=new Image;l.src=n.target?.result,l.onload=()=>{t.value.push({src:l.src,desiredWidth:r.value,fileName:`${P}_${i.value}_${o+1}`,file:e})}},n.readAsDataURL(e)}))};function c(e){t.value.splice(e,1)}async function s(){o.value=!0;for(const e of t.value)if(e.file){const o=await _(e.file,e.fileName,e.desiredWidth);o?console.log(`File uploaded successfully: ${o}`):console.error(`Failed to upload file: ${e.fileName}`)}else console.error(`No file object found for: ${e.fileName}`);o.value=!1}return(e,a)=>((0,l.uX)(),(0,l.CE)("div",E,[o.value?((0,l.uX)(),(0,l.CE)("div",U,O)):(0,l.Q3)("",!0),$,(0,l.Lk)("div",R,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),placeholder:"Global Name",type:"text",name:"text",id:""},null,512),[[n.Jo,i.value]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),placeholder:"Desired Size",type:"number",name:"number",id:""},null,512),[[n.Jo,r.value]])]),(0,l.Lk)("div",D,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.value,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.src,class:"img-area"},[(0,l.Lk)("img",{src:e.src,alt:"preview"},null,8,F),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o=>e.desiredWidth=o,placeholder:"Desired Size",type:"number",name:"number",id:""},null,8,N),[[n.Jo,e.desiredWidth]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o=>e.fileName=o,placeholder:"Name",type:"text",name:"text",id:""},null,8,j),[[n.Jo,e.fileName]]),(0,l.Lk)("button",{class:"remove",onClick:o=>c(t.value.indexOf(e))},"Remove",8,X)])))),128))]),""!==i.value?((0,l.uX)(),(0,l.Wv)(x,{key:1,onInitiateFileUpload:u})):(0,l.Q3)("",!0),t.value.length>0?((0,l.uX)(),(0,l.CE)("button",{key:2,disabled:t.value.length<=0,class:"ac-primary-button my-4 text-3xl",onClick:s},"Upload",8,z)):(0,l.Q3)("",!0)]))}};const I=V;var K=I;(0,n.Ef)(K).mount("#app")}},o={};function t(n){var l=o[n];if(void 0!==l)return l.exports;var a=o[n]={exports:{}};return e[n].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(o,n,l,a){if(!n){var i=1/0;for(s=0;s<e.length;s++){n=e[s][0],l=e[s][1],a=e[s][2];for(var r=!0,u=0;u<n.length;u++)(!1&a||i>=a)&&Object.keys(t.O).every((function(e){return t.O[e](n[u])}))?n.splice(u--,1):(r=!1,a<i&&(i=a));if(r){e.splice(s--,1);var c=l();void 0!==c&&(o=c)}}return o}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[n,l,a]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){t.p="/altevren-image-optimizer/"}(),function(){var e={524:0};t.O.j=function(o){return 0===e[o]};var o=function(o,n){var l,a,i=n[0],r=n[1],u=n[2],c=0;if(i.some((function(o){return 0!==e[o]}))){for(l in r)t.o(r,l)&&(t.m[l]=r[l]);if(u)var s=u(t)}for(o&&o(n);c<i.length;c++)a=i[c],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(s)},n=self["webpackChunkae_img_optimizer"]=self["webpackChunkae_img_optimizer"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(7884)}));n=t.O(n)})();
//# sourceMappingURL=app.4c650bc0.js.map