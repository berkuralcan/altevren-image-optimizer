(function(){"use strict";var e={7884:function(e,o,n){var t=n(5130),l=(n(4114),n(6768)),a=n(144),i=n(4232),r=n.p+"img/upload-active.a0273a5b.png",u=n.p+"img/upload-inactive.54af791a.png",c=n(2489);const s=e=>((0,l.Qi)("data-v-17d2f824"),e=e(),(0,l.jt)(),e),d={key:0,class:"ac-upload-area"},p=s((()=>(0,l.Lk)("img",{width:"120px",src:r,alt:"Dosya Yükleme"},null,-1))),f=s((()=>(0,l.Lk)("p",null,"Drop to add!",-1))),v=[p,f],m={key:1,class:"ac-upload-area text-2xl"},g=s((()=>(0,l.Lk)("img",{width:"120px",src:u,alt:"Dosya Yükleme"},null,-1))),h=s((()=>(0,l.Lk)("p",null,"Drag and drop files here or click to add!",-1))),b=[g,h];var k={__name:"fileUploader",emits:["initiateFileUpload"],setup(e,{emit:o}){const n=(0,a.Kh)({files:[]}),{getRootProps:t,getInputProps:r,isDragActive:u}=(0,c.V)({onDrop:s,accept:"image/*"});function s(e,o){console.log(e),console.log(o),n.files=e,console.log(n),f()}const p=o;function f(){p("initiateFileUpload",n.files)}return(e,o)=>((0,l.uX)(),(0,l.CE)("div",(0,l.v6)((0,a.R1)(t)(),{class:"dropzone w-full border ac-form-dropzone bg-gray-100 text-center"}),[(0,l.Lk)("input",(0,i._B)((0,l.Ng)((0,a.R1)(r)())),null,16),(0,a.R1)(u)?((0,l.uX)(),(0,l.CE)("div",d,v)):((0,l.uX)(),(0,l.CE)("div",m,b))],16))}},y=n(1241);const w=(0,y.A)(k,[["__scopeId","data-v-17d2f824"]]);var x=w;const L="https://optimize.accadigital.com",_=async(e,o,n)=>{console.log("API Endpoint:",L);const t=new FormData;t.append("file",e),t.append("name",o),t.append("desired_width",n);for(let[a,i]of t.entries())console.log(`${a}: ${i}`);try{const e=await fetch(`${L}/upload`,{method:"POST",body:t});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const o=await e.json();return console.log("Upload successful:",o),o}catch(l){throw console.error("Upload failed with:",l),l}},E={id:"container"},U={key:0,class:"loader-container"},C=(0,l.Lk)("div",{class:"loader"},null,-1),O=[C],R=(0,l.Lk)("p",{class:"info-text"},"Enter a base name for the files to get started!",-1),D={class:"main-inputs"},F={class:"file-previewer"},N=["src"],$=["onUpdate:modelValue"],j=["onUpdate:modelValue"],X=["onClick"],z=["disabled"],P="altevren";var V={__name:"App",setup(e){const o=(0,a.KR)(!1),n=(0,a.KR)([]),i=(0,a.KR)(""),r=(0,a.KR)(730),u=e=>{console.log("Files received from file-uploader component."),console.log(e),e.forEach(((e,o)=>{const t=new FileReader;t.onload=t=>{const l=new Image;l.src=t.target?.result,l.onload=()=>{n.value.push({src:l.src,desiredWidth:r.value,fileName:`${P}_${i.value}_${o+1}`,file:e})}},t.readAsDataURL(e)}))};function c(e){n.value.splice(e,1)}async function s(){o.value=!0;for(const e of n.value)if(e.file){const o=await _(e.file,e.fileName,e.desiredWidth);o?console.log(`File uploaded successfully: ${o}`):console.error(`Failed to upload file: ${e.fileName}`)}else console.error(`No file object found for: ${e.fileName}`);o.value=!1}return(e,a)=>((0,l.uX)(),(0,l.CE)("div",E,[o.value?((0,l.uX)(),(0,l.CE)("div",U,O)):(0,l.Q3)("",!0),R,(0,l.Lk)("div",D,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),placeholder:"Global Name",type:"text",name:"text",id:""},null,512),[[t.Jo,i.value]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),placeholder:"Desired Size",type:"number",name:"number",id:""},null,512),[[t.Jo,r.value]])]),(0,l.Lk)("div",F,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.value,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.src,class:"img-area"},[(0,l.Lk)("img",{src:e.src,alt:"preview"},null,8,N),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o=>e.desiredWidth=o,placeholder:"Desired Size",type:"number",name:"number",id:""},null,8,$),[[t.Jo,e.desiredWidth]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o=>e.fileName=o,placeholder:"Name",type:"text",name:"text",id:""},null,8,j),[[t.Jo,e.fileName]]),(0,l.Lk)("button",{class:"remove",onClick:o=>c(n.value.indexOf(e))},"Remove",8,X)])))),128))]),""!==i.value?((0,l.uX)(),(0,l.Wv)(x,{key:1,onInitiateFileUpload:u})):(0,l.Q3)("",!0),n.value.length>0?((0,l.uX)(),(0,l.CE)("button",{key:2,disabled:n.value.length<=0,class:"ac-primary-button my-4 text-3xl",onClick:s},"Upload",8,z)):(0,l.Q3)("",!0)]))}};const I=V;var K=I;(0,t.Ef)(K).mount("#app")}},o={};function n(t){var l=o[t];if(void 0!==l)return l.exports;var a=o[t]={exports:{}};return e[t].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(o,t,l,a){if(!t){var i=1/0;for(s=0;s<e.length;s++){t=e[s][0],l=e[s][1],a=e[s][2];for(var r=!0,u=0;u<t.length;u++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](t[u])}))?t.splice(u--,1):(r=!1,a<i&&(i=a));if(r){e.splice(s--,1);var c=l();void 0!==c&&(o=c)}}return o}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[t,l,a]}}(),function(){n.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(o,{a:o}),o}}(),function(){n.d=function(e,o){for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){n.p="/altevren-image-optimizer/"}(),function(){var e={524:0};n.O.j=function(o){return 0===e[o]};var o=function(o,t){var l,a,i=t[0],r=t[1],u=t[2],c=0;if(i.some((function(o){return 0!==e[o]}))){for(l in r)n.o(r,l)&&(n.m[l]=r[l]);if(u)var s=u(n)}for(o&&o(t);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(s)},t=self["webpackChunkae_img_optimizer"]=self["webpackChunkae_img_optimizer"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=n.O(void 0,[504],(function(){return n(7884)}));t=n.O(t)})();
//# sourceMappingURL=app.828eb276.js.map