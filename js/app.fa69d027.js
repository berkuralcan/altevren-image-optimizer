(function(){"use strict";var e={7884:function(e,o,n){var t=n(5130),a=(n(4114),n(6768)),l=n(144),i=n(4232),r=n.p+"img/upload-active.a0273a5b.png",u=n.p+"img/upload-inactive.54af791a.png",c=n(2489);const d=e=>((0,a.Qi)("data-v-17d2f824"),e=e(),(0,a.jt)(),e),s={key:0,class:"ac-upload-area"},p=d((()=>(0,a.Lk)("img",{width:"120px",src:r,alt:"Dosya Yükleme"},null,-1))),f=d((()=>(0,a.Lk)("p",null,"Drop to add!",-1))),v=[p,f],m={key:1,class:"ac-upload-area text-2xl"},g=d((()=>(0,a.Lk)("img",{width:"120px",src:u,alt:"Dosya Yükleme"},null,-1))),b=d((()=>(0,a.Lk)("p",null,"Drag and drop files here or click to add!",-1))),h=[g,b];var y={__name:"fileUploader",emits:["initiateFileUpload"],setup(e,{emit:o}){const n=(0,l.Kh)({files:[]}),{getRootProps:t,getInputProps:r,isDragActive:u}=(0,c.V)({onDrop:d,accept:"image/*"});function d(e,o){console.log(e),console.log(o),n.files=e,console.log(n),f()}const p=o;function f(){p("initiateFileUpload",n.files)}return(e,o)=>((0,a.uX)(),(0,a.CE)("div",(0,a.v6)((0,l.R1)(t)(),{class:"dropzone w-full border ac-form-dropzone bg-gray-100 text-center"}),[(0,a.Lk)("input",(0,i._B)((0,a.Ng)((0,l.R1)(r)())),null,16),(0,l.R1)(u)?((0,a.uX)(),(0,a.CE)("div",s,v)):((0,a.uX)(),(0,a.CE)("div",m,h))],16))}},k=n(1241);const w=(0,k.A)(y,[["__scopeId","data-v-17d2f824"]]);var x=w,_=n(4373);const L="https://optimize.accadigital.com",C=async(e,o,n)=>{console.log(L);const t=new FormData;t.append("file",e),t.append("name",o),t.append("desiredWidth",n);try{const e=await _.A.post(`${L}/upload`,t,{headers:{"Content-Type":"multipart/form-data"}});console.log("Upload successful:",e.data)}catch(a){console.error("Upload failed with:",a)}},O={id:"container"},U={key:0,class:"loader-container"},E=(0,a.Lk)("div",{class:"loader"},null,-1),R=[E],j=(0,a.Lk)("p",{class:"info-text"},"Enter a base name for the files to get started!",-1),D={class:"main-inputs"},F={class:"file-previewer"},N=["src"],X=["onUpdate:modelValue"],z=["onUpdate:modelValue"],S=["onClick"],V=["disabled"],$="altevren";var K={__name:"App",setup(e){const o=(0,l.KR)(!1),n=(0,l.KR)([]),i=(0,l.KR)(""),r=(0,l.KR)(730),u=e=>{console.log("Files received from file-uploader component."),console.log(e),e.forEach(((e,o)=>{const t=new FileReader;t.onload=t=>{const a=new Image;a.src=t.target?.result,a.onload=()=>{n.value.push({src:a.src,desiredWidth:r.value,fileName:`${$}_${i.value}_${o+1}`,file:e})}},t.readAsDataURL(e)}))};function c(e){n.value.splice(e,1)}async function d(){o.value=!0;for(const e of n.value)if(e.file){const o=await C(e.file,e.fileName,e.desiredWidth);o?console.log(`File uploaded successfully: ${o}`):console.error(`Failed to upload file: ${e.fileName}`)}else console.error(`No file object found for: ${e.fileName}`);o.value=!1}return(e,l)=>((0,a.uX)(),(0,a.CE)("div",O,[o.value?((0,a.uX)(),(0,a.CE)("div",U,R)):(0,a.Q3)("",!0),j,(0,a.Lk)("div",D,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),placeholder:"Global Name",type:"text",name:"text",id:""},null,512),[[t.Jo,i.value]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),placeholder:"Desired Size",type:"number",name:"number",id:""},null,512),[[t.Jo,r.value]])]),(0,a.Lk)("div",F,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.value,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.src,class:"img-area"},[(0,a.Lk)("img",{src:e.src,alt:"preview"},null,8,N),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":o=>e.desiredWidth=o,placeholder:"Desired Size",type:"number",name:"number",id:""},null,8,X),[[t.Jo,e.desiredWidth]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":o=>e.fileName=o,placeholder:"Name",type:"text",name:"text",id:""},null,8,z),[[t.Jo,e.fileName]]),(0,a.Lk)("button",{class:"remove",onClick:o=>c(n.value.indexOf(e))},"Remove",8,S)])))),128))]),""!==i.value?((0,a.uX)(),(0,a.Wv)(x,{key:1,onInitiateFileUpload:u})):(0,a.Q3)("",!0),n.value.length>0?((0,a.uX)(),(0,a.CE)("button",{key:2,disabled:n.value.length<=0,class:"ac-primary-button my-4 text-3xl",onClick:d},"Upload",8,V)):(0,a.Q3)("",!0)]))}};const P=K;var W=P;(0,t.Ef)(W).mount("#app")}},o={};function n(t){var a=o[t];if(void 0!==a)return a.exports;var l=o[t]={exports:{}};return e[t].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(o,t,a,l){if(!t){var i=1/0;for(d=0;d<e.length;d++){t=e[d][0],a=e[d][1],l=e[d][2];for(var r=!0,u=0;u<t.length;u++)(!1&l||i>=l)&&Object.keys(n.O).every((function(e){return n.O[e](t[u])}))?t.splice(u--,1):(r=!1,l<i&&(i=l));if(r){e.splice(d--,1);var c=a();void 0!==c&&(o=c)}}return o}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[t,a,l]}}(),function(){n.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(o,{a:o}),o}}(),function(){n.d=function(e,o){for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/altevren-image-optimizer/"}(),function(){var e={524:0};n.O.j=function(o){return 0===e[o]};var o=function(o,t){var a,l,i=t[0],r=t[1],u=t[2],c=0;if(i.some((function(o){return 0!==e[o]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(u)var d=u(n)}for(o&&o(t);c<i.length;c++)l=i[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(d)},t=self["webpackChunkae_img_optimizer"]=self["webpackChunkae_img_optimizer"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=n.O(void 0,[504],(function(){return n(7884)}));t=n.O(t)})();
//# sourceMappingURL=app.fa69d027.js.map